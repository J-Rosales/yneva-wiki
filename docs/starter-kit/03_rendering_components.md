# 03_rendering_components.md – UI Components and Presentation

This document defines the rendering layer of the platform: the reusable components, page layout expectations, and user interface elements required to present articles in a consistent wiki-style format.

It represents the authoritative specification for questions Q36–Q41.

---

## 1. Rendering Philosophy

The presentation layer follows several core principles:

- All pages are rendered statically by Astro  
- Components are reusable and type-agnostic  
- Visual behavior should emulate familiar wiki conventions  
- Content structure is determined by Markdown and metadata, not templates  
- Client-side JavaScript is used only for progressive enhancement  

The rendering system is responsible only for presentation. All structural logic is handled earlier in the build pipeline.

---

## 2. Article Layout Component

### 2.1 Master Layout

A single reusable article layout component provides the foundation for all article pages.

Responsibilities include:

- Rendering global site navigation  
- Establishing page structure  
- Positioning infoboxes and content  
- Rendering breadcrumbs and metadata  
- Including navigation boxes and related content  

### 2.2 Desktop Layout

On desktop-class screens:

- The layout uses a two-column design  
- The main article body occupies the primary column  
- The right column hosts the infobox and auxiliary content  
- Navigation boxes appear beneath the main content  

### 2.3 Mobile Layout

On small screens:

- All content collapses into a single column  
- The infobox appears at the top of the article  
- Components stack vertically in reading order  

The layout must be fully responsive without requiring alternate templates.

---

## 3. Infobox Rendering Components

### 3.1 Infobox Container

A dedicated infobox component is responsible for:

- Displaying structured article metadata  
- Rendering images and key-value rows  
- Applying type-specific styling  
- Handling optional and missing fields  

### 3.2 Row Components

Each field within an infobox is rendered using reusable row components.

The system must provide components for common data types such as:

- Text fields  
- Dates  
- Numbers  
- Lists  
- Internal links  
- Images  
- Boolean indicators  

Row components are shared across all article types to ensure consistency.

### 3.3 Type Flexibility

- Different article types may use different infobox configurations  
- Rendering components remain generic  
- Unknown or unimplemented types fall back to a default renderer  

This ensures new types can be introduced without UI changes.

---

## 4. Navigation Box Component

### 4.1 Purpose

The navbox component renders structured cross-article navigation defined in external YAML data.

### 4.2 Responsibilities

The component must:

- Display groups of related links  
- Support multiple navboxes per article  
- Render at the bottom of article pages  
- Use a consistent visual style across the site  
- Resolve all links using slugs  

### 4.3 Behavior

- Navboxes are optional  
- Absence of navboxes does not affect layout  
- Each navbox instance is independent and reusable  

---

## 5. “See Also” and Related Content

Although generated by the link graph system, related content is rendered using a dedicated component.

Responsibilities include:

- Displaying automatically generated suggestions  
- Limiting the number of items shown  
- Avoiding duplicates and redirects  
- Presenting links in a compact, readable format  

This component integrates seamlessly into the article layout.

---

## 6. Layer Toggle Interface

### 6.1 Purpose

When an article contains more than one narrative layer, the interface must allow readers to switch between them.

### 6.2 Requirements

A reusable layer toggle component must:

- Detect available layers for the current article  
- Display controls only when multiple layers exist  
- Indicate the currently active layer  
- Provide links to alternate layer routes  
- Integrate with browser navigation and URLs  

### 6.3 Behavior

- Switching layers changes the visible content  
- The page URL updates to reflect the chosen layer  
- The toggle does not require a full site reload when possible  

---

## 7. Additional Interface Elements

The rendering system may also include components for:

- Breadcrumb navigation  
- Category tags  
- Metadata footers  
- Placeholder page notices  
- Disambiguation page layouts  

All such elements must adhere to the same design language.

---

## 8. Accessibility and Usability

All components must follow basic accessibility guidelines:

- Semantic HTML structure  
- Keyboard-navigable controls  
- Readable contrast ratios  
- Responsive design  
- Clear link states  

JavaScript enhancements must never be required for core functionality.

---

## 9. Scope

This document specifies only the presentation components.

It does not define:

- How data is generated  
- How links are resolved  
- How search operates  
- How narrative layers are parsed  

Those concerns are handled by other specification documents.

---

## 10. Design Goal

The ultimate goal of the rendering system is to provide a clean, familiar, and highly readable wiki-style experience using a small set of predictable, reusable components that can scale to thousands of articles without per-page customization.
