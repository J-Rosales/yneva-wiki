---
import redirects from "../../../build/redirects.json" assert { type: "json" };

export function getStaticPaths() {
  return Object.keys(redirects).map((slug) => ({
    params: { slug },
    props: { target: redirects[slug] },
  }));
}

const { target } = Astro.props;
const destination = `/wiki/${target}/`;
---

<html lang="en">
  <head>
    <meta http-equiv="refresh" content={`0; url=${destination}`} />
    <link rel="canonical" href={destination} />
  </head>
  <body>
    <p>Redirecting to <a href={destination}>{destination}</a></p>
  </body>
</html>
